<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analyse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="site_libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet">

<script src="site_libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>

<script src="site_libs/wordcloud2-0.0.1/hover.js"></script>

<script src="site_libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>



<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Analyse</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">Statistiques</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Graphs.html" aria-current="page"> 
<span class="menu-text">Graphiques</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./econometrics.html"> 
<span class="menu-text">Économétrie</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#analyses-bivariées" id="toc-analyses-bivariées" class="nav-link active" data-scroll-target="#analyses-bivariées">Analyses Bivariées</a>
  <ul class="collapse">
  <li><a href="#graphique-1" id="toc-graphique-1" class="nav-link" data-scroll-target="#graphique-1">Graphique 1</a></li>
  <li><a href="#graphique-2" id="toc-graphique-2" class="nav-link" data-scroll-target="#graphique-2">Graphique 2</a></li>
  <li><a href="#graphique-3" id="toc-graphique-3" class="nav-link" data-scroll-target="#graphique-3">Graphique 3</a></li>
  <li><a href="#graphique-4" id="toc-graphique-4" class="nav-link" data-scroll-target="#graphique-4">Graphique 4</a></li>
  <li><a href="#graphique-5" id="toc-graphique-5" class="nav-link" data-scroll-target="#graphique-5">Graphique 5</a></li>
  <li><a href="#graphique-6" id="toc-graphique-6" class="nav-link" data-scroll-target="#graphique-6">Graphique 6</a></li>
  <li><a href="#word-cloud-1" id="toc-word-cloud-1" class="nav-link" data-scroll-target="#word-cloud-1">Word Cloud 1</a></li>
  <li><a href="#word-cloud-2" id="toc-word-cloud-2" class="nav-link" data-scroll-target="#word-cloud-2">Word Cloud 2</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="analyses-bivariées" class="level2">
<h2 class="anchored" data-anchor-id="analyses-bivariées">Analyses Bivariées</h2>
<p>Dans cette section, nous analysons les relations entre différentes variables liées à l’innovation et aux compétences requises par les entreprises. Pour cela, nous procédons à des <strong>analyses bivariées</strong> permettant de comparer les variables telles que le <strong><em>nombre de brevets déposés</em></strong>, le <strong><em>nombre d’offres d’emploi publiées</em></strong>, les <strong><em>compétences requises par secteur</em></strong> et le <strong><em>salaire moyen</em></strong>. Ces analyses servent de base pour détecter des associations ou tendances qui orienteront les étapes économétriques ultérieures.</p>
<p>Ces analyses permettent d’explorer les liens entre innovation, compétences et dynamiques sectorielles, tout en posant les bases pour des investigations économétriques plus&nbsp;approfondies.</p>
<p><br></p>
<section id="graphique-1" class="level3">
<h3 class="anchored" data-anchor-id="graphique-1">Graphique 1</h3>
<div class="graph-section">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Graphs_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ce graphique compare le nombre de brevets déposés et le nombre d’offres d’emploi publiées par secteur IPC (International Patent Classification). Le premier graphique montre que le secteur des <strong>Besoins Humains</strong> est de loin le plus actif en termes de brevets déposés, suivi par les secteurs des <strong>Opérations/Transport</strong> et de la <strong>Physique</strong>. Les secteurs comme les <strong>Textiles/Papier</strong> et les <strong>Constructions</strong> apparaissent en revanche comme beaucoup moins innovants, avec un nombre relativement faible de brevets. Le deuxième graphique met en évidence les secteurs les plus dynamiques en termes d’offres d’emploi. Contrairement au classement par brevets, les secteurs de <strong>l’Électricité</strong>, de <strong>l’Ingénierie Mécanique</strong> et des <strong>Opérations/Transport</strong> dominent ici. Le secteur des <strong>Besoins Humains</strong>, bien qu’il se distingue en innovation (brevets), est moins représenté en termes d’offres d’emploi, indiquant un potentiel décalage entre innovation et création d’emplois. Cette comparaison montre que les secteurs innovants ne génèrent pas nécessairement le plus grand volume d’offres d’emploi, soulignant des priorités différentes.</p>
</div>
<p><br> <br></p>
</section>
<section id="graphique-2" class="level3">
<h3 class="anchored" data-anchor-id="graphique-2">Graphique 2</h3>
<div class="graph-section">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Graphs_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ce graphique examine <strong>la relation entre le salaire moyen (en euros) et les années d’expérience requises pour les postes</strong>. Les points représentent des observations individuelles, et la ligne de régression linéaire illustre une tendance générale.</p>
<p>On observe une légère <strong>corrélation positive entre le nombre d’années d’expérience requises et le salaire moyen</strong>, indiquant que les postes exigeant plus d’expérience tendent à offrir des salaires plus élevés. Toutefois, cette relation reste modérée, comme en témoignent les écarts importants entre les points et la ligne de régression, suggérant qu’il existe d’autres facteurs influençant les salaires.</p>
<p>Dans l’ensemble, ce graphique met en évidence une tendance attendue mais non systématique : <strong>une expérience accrue est souvent associée à une meilleure rémunération, mais cela n’est pas toujours le cas.</strong></p>
</div>
<p><br> <br></p>
</section>
<section id="graphique-3" class="level3">
<h3 class="anchored" data-anchor-id="graphique-3">Graphique 3</h3>
<div class="graph-section">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Graphs_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ce graphique illustre la <strong>relation entre le nombre de brevets déposés et le nombre d’offres d’emploi publiées par les entreprises.</strong></p>
<p>Une proportion importante des entreprises présentes dans la base ne déposent aucun brevet, ce qui explique la forte concentration des points près de l’origine. Parmi les entreprises ayant déposé des brevets, on observe que <strong>l’augmentation du nombre de brevets déposés n’entraîne pas nécessairement une augmentation significative du nombre d’offres d’emploi publiées</strong>, comme le montre la faible pente de la ligne de régression.</p>
<p>Cela suggère que d’autres facteurs, comme la taille de l’entreprise ou son secteur d’activité, peuvent jouer un rôle plus déterminant dans le volume des offres d’emploi.</p>
</div>
<p><br> <br></p>
</section>
<section id="graphique-4" class="level3">
<h3 class="anchored" data-anchor-id="graphique-4">Graphique 4</h3>
<div class="graph-section">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Graphs_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Le graphique montre les compétences les plus fréquemment associées à l’innovation, mesurée par le nombre total de brevets déposés.</p>
<p>Il est évident que <strong>“Équipe et Collaboration”</strong> domine largement en termes d’importance, ce qui reflète la nécessité de travailler en groupe pour conduire des projets innovants. Cela souligne l’importance des dynamiques collaboratives dans les entreprises innovantes, où l’échange d’idées et le travail d’équipe jouent un rôle central.</p>
<p><strong>“Anglais”</strong> arrive en deuxième position, mettant en lumière le besoin d’une compétence linguistique essentielle dans un environnement globalisé, où les partenariats internationaux et la communication avec des équipes multiculturelles sont monnaie courante. Suivent des compétences techniques telles que <strong>“Apprentissage Profond”</strong>, qui illustre l’importance croissante de l’intelligence artificielle et du machine learning dans les processus d’innovation.</p>
<p>Des compétences transversales comme <strong>“Communication”, “Rapport”, et “Programmation”</strong> complètent cette liste en soulignant que, pour innover, les entreprises doivent combiner des capacités relationnelles, une maîtrise technique et une aptitude à documenter et structurer leurs projets.</p>
<p>En conclusion, ce graphique révèle que l’innovation est un processus multidimensionnel qui repose sur une combinaison équilibrée de compétences interpersonnelles, linguistiques et techniques. Cela souligne l’importance pour les entreprises de favoriser un environnement de travail collaboratif tout en investissant dans le développement des compétences technologiques et globales.</p>
</div>
<p><br> <br></p>
</section>
<section id="graphique-5" class="level3">
<h3 class="anchored" data-anchor-id="graphique-5">Graphique 5</h3>
<div class="graph-section">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Graphs_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ce graphique met en évidence les <strong>compétences les plus demandées par secteur d’activité</strong>.</p>
<p>On observe que des compétences transversales comme le <strong>travail en équipe</strong>, la <strong>collaboration</strong>, et <strong>l’anglais</strong> sont fréquemment recherchées dans plusieurs secteurs, notamment dans les Banques, les Services aux Entreprises, et le Secteur informatique. Les <strong>compétences techniques</strong>, telles que Python, SQL, et la Statistique, dominent dans les secteurs axés sur les données comme les Banques, les Assurances, et les ESN, où l’analyse quantitative et la gestion des données sont essentielles.</p>
<p>Certains secteurs affichent des besoins plus spécifiques : par exemple, les Banques et le Secteur informatique privilégient des compétences en <strong>Apprentissage profond</strong> et Modélisation, reflétant l’importance croissante des technologies d’intelligence artificielle et d’analyse avancée. En revanche, des secteurs comme la Distribution et le Commerce de gros mettent davantage l’accent sur des <strong>compétences relationnelles</strong> telles que la Communication et le Rapport, qui sont cruciales pour leurs activités opérationnelles.</p>
<p>Ce graphique souligne donc à la fois des compétences communes et des spécialisations sectorielles.</p>
</div>
<p><br> <br></p>
</section>
<section id="graphique-6" class="level3">
<h3 class="anchored" data-anchor-id="graphique-6">Graphique 6</h3>
<div class="graph-section">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Graphs_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ce graphique illustre la répartition des compétences demandées par secteur en pourcentage, réparties en trois catégories : Autres, Data Science et Machine Learning.</p>
<p>Les compétences en <strong>Machine Learning</strong> sont particulièrement prisées dans les secteurs des ESN, du secteur informatique et de l’Internet, tandis qu’elles sont très marginales dans des secteurs comme l’immobilier ou le commerce de gros. Les compétences en <strong>Data Science</strong> occupent également une place importante, notamment dans les secteurs de l’Internet, de la banque et de l’assurance, mais restent moins présentes dans des secteurs comme l’immobilier ou l’industrie agroalimentaire. Enfin, les compétences dites autres dominent largement dans la plupart des secteurs, à l’exception notable des ESN et du secteur informatique, où les compétences techniques liées à la Data Science et au Machine Learning sont particulièrement valorisées. Cette répartition montre que les compétences techniques sont principalement recherchées dans les secteurs technologiques et financiers, alors qu’elles restent secondaires dans des domaines plus traditionnels comme l’immobilier ou l’agroalimentaire.</p>
</div>
<p><br> <br></p>
</section>
<section id="word-cloud-1" class="level3">
<h3 class="anchored" data-anchor-id="word-cloud-1">Word Cloud 1</h3>
<section id="compétences-pondérées-par-les-brevets" class="level5 graph-section">
<h5 class="anchored" data-anchor-id="compétences-pondérées-par-les-brevets"><strong>Compétences pondérées par les brevets</strong></h5>
<iframe src="competences_patents_wordcloud.html" width="100%" height="600px" style="border:none;">
</iframe>
</section>
<p><br> <br></p>
</section>
<section id="word-cloud-2" class="level3">
<h3 class="anchored" data-anchor-id="word-cloud-2">Word Cloud 2</h3>
<section id="compétences-pondérées-par-les-salaires" class="level5 graph-section">
<h5 class="anchored" data-anchor-id="compétences-pondérées-par-les-salaires"><strong>Compétences pondérées par les salaires</strong></h5>
<div class="cell">
<div class="cell-output-display">
<div class="wordcloud2 html-widget html-fill-item" id="htmlwidget-65e9e2a450c526260e10" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-65e9e2a450c526260e10">{"x":{"word":["Serieux","Google Cloud","Aws","Prévision","Azure","Spark","Natural Language Processing","Hadoop","Git","Français","Optimisation","Autonome","Python","Equipe Et Collaboration","Modélisation","Statistique","Power Bi","A/B Testing","Résolution De Problèmes","Communication","Visualisation De Donnée","Sql","Anglais","Rapport","Intelligence Artificielle","C++","Excel","Tableau","Apprentissage Profond","Curiosité","Bases De Données","Programmation","Collecte De Données","Proactif","Vba","Rigueur","Pytorch","Tensorflow","Base De Donnée","Créativité"],"freq":[65000,56166.66666666666,52812.5,52500,51350,51083.33333333334,50833.33333333334,48166.66666666666,47059.83455882353,46200.18181818182,46100,45814.85294117647,45482.47116493656,45444.19896509367,45440,45210.3,44979.16666666667,44000,44000,43836.36363636364,43625,43499.07070707071,43441.79166666667,43217.22380952381,41976.64,41500,41496.48484848485,40853.73913043478,40331.96470588236,39000,37762.5,37400,36500,36400,35300,34185.71428571428,31275,31275,27725,16800],"fontFamily":"Segoe UI","fontWeight":"bold","color":["#08306B","#1660A8","#2272B5","#2473B6","#2C7ABA","#2D7BBA","#2F7CBB","#3C8BC3","#4191C6","#4895C8","#4896C8","#4A97C9","#4D99CA","#4D99CA","#4D99CA","#4F9ACB","#509BCB","#579FCE","#579FCE","#58A0CE","#5AA1CF","#5AA2CF","#5BA2CF","#5CA3D0","#64A9D3","#67ABD4","#67ABD4","#6BAED6","#70B1D7","#7CB7D9","#87BCDC","#8ABEDC","#91C2DE","#92C3DE","#9BC8E0","#A3CCE3","#B6D4E9","#B6D4E9","#CBDEF0","#F7FBFF"],"minSize":0,"weightFactor":0.0005538461538461539,"backgroundColor":"white","gridSize":10,"minRotation":-0.7853981633974483,"maxRotation":0.7853981633974483,"shuffle":true,"rotateRatio":0,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
</div>
</div>
</section>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>